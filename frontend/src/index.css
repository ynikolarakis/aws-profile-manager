@import "tailwindcss";

@custom-variant dark (&:is([data-theme="dark"] *));

/* ── Fonts ────────────────────────────────────────────── */
@font-face {
  font-family: "Geist";
  src: url("https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-sans/Geist-Regular.woff2") format("woff2");
  font-weight: 400;
}
@font-face {
  font-family: "Geist";
  src: url("https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-sans/Geist-Medium.woff2") format("woff2");
  font-weight: 500;
}
@font-face {
  font-family: "Geist";
  src: url("https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-sans/Geist-SemiBold.woff2") format("woff2");
  font-weight: 600;
}
@font-face {
  font-family: "Geist";
  src: url("https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-sans/Geist-Bold.woff2") format("woff2");
  font-weight: 700;
}
@font-face {
  font-family: "Geist Mono";
  src: url("https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-mono/GeistMono-Regular.woff2") format("woff2");
  font-weight: 400;
}
@font-face {
  font-family: "Geist Mono";
  src: url("https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-mono/GeistMono-Medium.woff2") format("woff2");
  font-weight: 500;
}

/* ── Theme Tokens ─────────────────────────────────────── */
:root {
  --bg-0: #fafafa;
  --bg-1: #ffffff;
  --bg-2: #f4f4f5;
  --bg-3: #e4e4e7;
  --bg-4: #d4d4d8;
  --border: rgba(0, 0, 0, 0.07);
  --border-h: rgba(0, 0, 0, 0.13);
  --t1: #09090b;
  --t2: #52525b;
  --t3: #a1a1aa;
  --t4: #d4d4d8;
  --ac: #2563eb;
  --ac-dim: rgba(37, 99, 235, 0.08);
  --ac-glow: rgba(37, 99, 235, 0.15);
  --green: #16a34a;
  --green-dim: rgba(34, 197, 94, 0.1);
  --amber: #d97706;
  --amber-dim: rgba(245, 158, 11, 0.08);
  --red: #dc2626;
  --red-dim: rgba(239, 68, 68, 0.08);
  --violet: #7c3aed;
  --violet-dim: rgba(139, 92, 246, 0.08);
  --cyan: #06b6d4;
  --sans: "Geist", "Inter", system-ui, -apple-system, sans-serif;
  --mono: "Geist Mono", "SF Mono", "Fira Code", monospace;
  --r: 6px;
  --r-lg: 10px;
  --ease: cubic-bezier(0.16, 1, 0.3, 1);
  --sidebar-w: 260px;
}

[data-theme="dark"] {
  --bg-0: #09090b;
  --bg-1: #0f0f12;
  --bg-2: #18181b;
  --bg-3: #1e1e22;
  --bg-4: #27272a;
  --border: rgba(255, 255, 255, 0.06);
  --border-h: rgba(255, 255, 255, 0.1);
  --t1: #fafafa;
  --t2: #a1a1aa;
  --t3: #71717a;
  --t4: #3f3f46;
  --ac: #3b82f6;
  --ac-dim: rgba(59, 130, 246, 0.1);
  --ac-glow: rgba(59, 130, 246, 0.2);
  --green: #22c55e;
  --green-dim: rgba(34, 197, 94, 0.1);
  --amber: #f59e0b;
  --amber-dim: rgba(245, 158, 11, 0.08);
  --red: #ef4444;
  --red-dim: rgba(239, 68, 68, 0.08);
  --violet: #8b5cf6;
  --violet-dim: rgba(139, 92, 246, 0.08);
  --cyan: #06b6d4;
}

/* ── Tailwind v4 Theme Extension ──────────────────────── */
@theme {
  --font-sans: "Geist", "Inter", system-ui, -apple-system, sans-serif;
  --font-mono: "Geist Mono", "SF Mono", "Fira Code", monospace;

  --animate-in: enter 150ms ease-out;
  --animate-out: exit 150ms ease-in;

  @keyframes enter {
    from {
      opacity: var(--tw-enter-opacity, 1);
      transform: translate3d(
          var(--tw-enter-translate-x, 0),
          var(--tw-enter-translate-y, 0),
          0
        )
        scale3d(
          var(--tw-enter-scale, 1),
          var(--tw-enter-scale, 1),
          var(--tw-enter-scale, 1)
        )
        rotate(var(--tw-enter-rotate, 0));
    }
  }

  @keyframes exit {
    to {
      opacity: var(--tw-exit-opacity, 1);
      transform: translate3d(
          var(--tw-exit-translate-x, 0),
          var(--tw-exit-translate-y, 0),
          0
        )
        scale3d(
          var(--tw-exit-scale, 1),
          var(--tw-exit-scale, 1),
          var(--tw-exit-scale, 1)
        )
        rotate(var(--tw-exit-rotate, 0));
    }
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  @keyframes pulse-glow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  --animate-shimmer: shimmer 1.5s ease-in-out infinite;
  --animate-pulse-glow: pulse-glow 2s ease-in-out infinite;
}

/* tailwindcss-animate compatibility utilities */
@utility fade-in-0 {
  --tw-enter-opacity: 0;
  animation-name: enter;
  animation-duration: 150ms;
}
@utility fade-out-0 {
  --tw-exit-opacity: 0;
  animation-name: exit;
  animation-duration: 150ms;
}
@utility zoom-in-95 {
  --tw-enter-scale: 0.95;
}
@utility zoom-out-95 {
  --tw-exit-scale: 0.95;
}
@utility slide-in-from-top-2 {
  --tw-enter-translate-y: -0.5rem;
}
@utility slide-in-from-bottom-2 {
  --tw-enter-translate-y: 0.5rem;
}
@utility slide-in-from-left-2 {
  --tw-enter-translate-x: -0.5rem;
}
@utility slide-in-from-right-2 {
  --tw-enter-translate-x: 0.5rem;
}
@utility slide-out-to-top {
  --tw-exit-translate-y: -100%;
}
@utility slide-out-to-bottom {
  --tw-exit-translate-y: 100%;
}
@utility slide-out-to-left {
  --tw-exit-translate-y: 0;
  --tw-exit-translate-x: -100%;
}
@utility slide-out-to-right {
  --tw-exit-translate-y: 0;
  --tw-exit-translate-x: 100%;
}
@utility slide-in-from-top {
  --tw-enter-translate-y: -100%;
}
@utility slide-in-from-bottom {
  --tw-enter-translate-y: 100%;
}
@utility slide-in-from-left {
  --tw-enter-translate-x: -100%;
}
@utility slide-in-from-right {
  --tw-enter-translate-x: 100%;
}

/* Dialog centered positioning animation helpers */
.slide-in-from-left-1\/2 { --tw-enter-translate-x: -50%; }
.slide-in-from-top-\[48\%\] { --tw-enter-translate-y: -48%; }
.slide-out-to-left-1\/2 { --tw-exit-translate-x: -50%; }
.slide-out-to-top-\[48\%\] { --tw-exit-translate-y: -48%; }

/* ── Base Styles (in @layer base so utilities can override) ── */
@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html,
  body {
    height: 100%;
    overflow: hidden;
  }

  body {
    font-family: var(--sans);
    background: var(--bg-0);
    color: var(--t1);
    font-size: 13px;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 5px;
    height: 5px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: var(--t4);
    border-radius: 3px;
  }

  /* Element resets */
  input,
  select,
  button,
  textarea {
    font-family: inherit;
    font-size: inherit;
  }

  button {
    cursor: pointer;
  }

  /* Command palette */
  [cmdk-root] {
    font-family: var(--sans);
  }
  [cmdk-input] {
    font-family: var(--sans);
    color: var(--t1);
  }
  [cmdk-item] {
    color: var(--t1);
  }
  [cmdk-group-heading] {
    color: var(--t3);
  }

  /* kbd */
  kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 18px;
    height: 18px;
    padding: 0 4px;
    font-family: var(--sans);
    font-size: 10px;
    font-weight: 500;
    color: var(--t3);
    background: var(--bg-2);
    border: 1px solid var(--border-h);
    border-radius: 4px;
    line-height: 1;
  }

  /* Screen reader only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}
